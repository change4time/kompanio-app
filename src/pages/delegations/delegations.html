<!--
  Generated template for the Delegations page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ 'DELEGATIONS' | translate }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  
  <ion-fab top right edge>
    <button ion-fab mini (click)="add()" [disabled]="!canUpdate"><ion-icon name="add"></ion-icon></button>
  </ion-fab>
  
  <ion-list>
    <button ion-item small *ngFor="let delegation of delegations" (click)="update(delegation)" (swipe)="delete(delegation)" [disabled]="!canUpdate" >
      <ion-avatar item-left>
        <img src="{{ delegation.$key | photoURL }}">
      </ion-avatar>
      <h2>{{ delegation.$key == auth.uid ? ('ME' | translate) : delegation.delegate }}</h2>
      <ion-note>
        {{ delegation.read ? ('READ' | translate)+',' : '' }}
        {{ delegation.pay ? ('PAY' | translate)+',' : '' }}
        {{ delegation.manage ? ('MANAGE' | translate)+',' : '' }}
        {{ delegation.collect ? ('COLLECT' | translate)+',' : '' }}
      </ion-note>
    </button>
  </ion-list>
  
</ion-content>
